<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Supermarket Food Price Comparison</title>
  </head>
  <body>
    <h1>Supermarket Food Price Comparison</h1>
    
    <form method="post" action="compare.php">
      <label for="product">Product:</label>
      <input type="text" id="product" name="product" required>
      <label for="location">Location:</label>
      <select id="location" name="location" required>
        <option value="">Select a location</option>
        <option value="north">North</option>
        <option value="south">South</option>
        <option value="east">East</option>
        <option value="west">West</option>
      </select>
      <button type="submit">Compare Prices</button>
    </form>
    
    <?php
      // Connect to database
      $servername = "localhost";
      $username = "username";
      $password = "password";
      $dbname = "mydatabase";
      
      $conn = new mysqli($servername, $username, $password, $dbname);
      
      // Check connection
      if ($conn->connect_error) {
        die("Connection failed: " . $conn->connect_error);
      }
      
      // Get product and location from form submission
      if ($_SERVER["REQUEST_METHOD"] == "POST") {
        $product = $_POST["product"];
        $location = $_POST["location"];
        
        // Query database for prices
        $sql = "SELECT supermarket, price FROM prices WHERE product = '$product' AND location = '$location'";
        $result = $conn->query($sql);
        
        // Display prices in table
        if ($result->num_rows > 0) {
          echo "<h2>Prices for $product in $location:</h2>";
          echo "<table>";
          echo "<tr><th>Supermarket</th><th>Price</th></tr>";
          while ($row = $result->fetch_assoc()) {
            echo "<tr><td>" . $row["supermarket"] . "</td><td>" . $row["price"] . "</td></tr>";
          }
          echo "</table>";
        } else {
          echo "<p>No prices found for $product in $location.</p>";
        }
      }
      
      $conn->close();
    ?>
  </body>
</html>
